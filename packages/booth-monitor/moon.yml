# https://moonrepo.dev/docs/config/project
$schema: 'https://moonrepo.dev/schemas/project.json'

type: 'library'
language: 'typescript'

tasks:
  build:
    command: 'npx tsc'
    inputs:
      - 'src/**/*'
      - 'tsconfig.json'
    outputs:
      - 'dist'

  test:
    command: 'vitest run'
    inputs:
      - 'src/**/*'
      - 'tests/**/*'
      - 'vitest.config.ts'

  test-watch:
    command: 'vitest'
    local: true
    inputs:
      - 'src/**/*'
      - 'tests/**/*'

  test-coverage:
    command: 'vitest run --coverage'
    inputs:
      - 'src/**/*'
      - 'tests/**/*'

  lint:
    command: 'eslint src --fix'
    inputs:
      - 'src/**/*'
      - '.eslintrc.js'
